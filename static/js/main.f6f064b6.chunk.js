(this["webpackJsonpinfinite-scroll"]=this["webpackJsonpinfinite-scroll"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),s=n.n(a),i=(n(49),n(13)),o=(n(50),n(51),n(79)),l=n(82),j=n(3),b=function(e){return Object(j.jsx)(l.a,{bg:"dark",variant:"dark",sticky:"top",children:Object(j.jsx)(o.a,{fluid:!0,children:Object(j.jsx)("div",{children:Object(j.jsx)(l.a.Brand,{className:"pl-5",href:"#home",children:"Infinite Scroll"})})})})},d=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsx)(o.a,{children:e.children})]})},u=n(84),O=n(83),h=n(85),x=r.a.createContext({}),m=function(e){var t=Object(c.useContext)(x),n=t.setLogin,r=t.setUsername,a=Object(c.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1];Object(c.useEffect)((function(){r(o)}),[o,r]);var b="true"===e.location.state?Object(j.jsx)("div",{children:"Please login first!"}):"";return Object(j.jsx)("div",{className:"Login-Card",children:Object(j.jsx)(u.a,{children:Object(j.jsxs)(u.a.Body,{children:[Object(j.jsx)(u.a.Title,{children:"Login"}),b,Object(j.jsxs)(O.a,{children:[Object(j.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(j.jsx)(O.a.Label,{children:"Username"}),Object(j.jsx)(O.a.Control,{type:"email",placeholder:"Enter username",onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(O.a.Group,{controlId:"formBasicPassword",children:[Object(j.jsx)(O.a.Label,{children:"Password"}),Object(j.jsx)(O.a.Control,{type:"password",placeholder:"Password"})]}),Object(j.jsx)(h.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),n(!0),localStorage.setItem("login",!0),e.history.push("/home")},children:"Submit"})]})]})})})},g=n(24),f=n(6),p=n(27),v=n(80),S=n(40),I=n(81),y=n(41),C=n.n(y).a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),L=function(e){var t=Object(c.useContext)(x),n=t.setLogin,r=t.userName,a=Object(c.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1],b=Object(c.useState)(1),d=Object(i.a)(b,2),O=d[0],h=d[1],m=Object(c.useRef)(null);Object(c.useEffect)((function(){C.get("/photos?_page="+O+"&_limit=5").then((function(e){l([].concat(Object(p.a)(o),Object(p.a)(e.data)))})).catch((function(e){console.log(e)}))}),[O]);var g=function(e){e[0].isIntersecting&&h((function(e){return e+1}))};return Object(c.useEffect)((function(){var e=new IntersectionObserver(g,{root:null,rootMargin:"20px",threshold:1});m.current&&e.observe(m.current)}),[]),Object(j.jsxs)("div",{className:"MainScreen",children:[Object(j.jsxs)(v.a,{children:[Object(j.jsx)(S.a,{md:10,sm:12,children:Object(j.jsxs)("h3",{children:["Welcome User: ",r]})}),Object(j.jsx)(S.a,{md:2,sm:12,children:Object(j.jsx)("button",{class:"btn btn-outline-danger",type:"button",onClick:function(){n(!1),localStorage.setItem("login",!1),e.history.push("/login")},children:"Logout"})})]}),Object(j.jsx)("div",{className:"ScrollList",children:Object(j.jsx)(v.a,{children:o.map((function(e){return Object(j.jsx)(S.a,{md:4,sm:12,className:"Scroll-Card",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(u.a.Img,{variant:"top",src:e.url}),Object(j.jsxs)(u.a.Body,{children:[Object(j.jsx)(u.a.Title,{children:e.id}),Object(j.jsx)(u.a.Text,{children:e.title})]})]})},e.id)}))})}),Object(j.jsx)("div",{className:"spinner-div",ref:m,children:Object(j.jsx)(I.a,{animation:"border",role:"status",size:"xl",variant:"danger",as:"div",children:Object(j.jsx)("span",{className:"sr-only center",children:"Loading..."})})})]})},N=n(18),k=n(43),w=function(e){var t=e.component,n=(e.login,Object(k.a)(e,["component","login"])),c=!!localStorage.getItem("login")&&localStorage.getItem("login");return Object(j.jsx)(f.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return"true"===c?Object(j.jsx)(t,Object(N.a)({},e)):Object(j.jsx)(f.a,{to:{pathname:"/login",state:"true"}})}}))};var B=function(){var e=!!localStorage.getItem("login")&&localStorage.getItem("login"),t=Object(c.useState)(e),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],b=o[1];return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(x.Provider,{value:{setLogin:a,setUsername:b,userName:l,login:r},children:Object(j.jsx)(g.a,{children:Object(j.jsx)(d,{children:Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{exact:!0,path:"/login",component:m}),Object(j.jsx)(w,{exact:!0,path:"/home",component:L,login:r}),Object(j.jsx)(w,{path:"/",component:L,login:r})]})})})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),P()}},[[77,1,2]]]);
//# sourceMappingURL=main.f6f064b6.chunk.js.map